# ๐ค Finam AI Trader โ AI ะััะธััะตะฝั ะดะปั ะคะพะฝะดะพะฒะพะน ะะธัะถะธ

> ะะฝัะตะปะปะตะบััะฐะปัะฝัะน ะฟะพะผะพัะฝะธะบ ะดะปั ัะฐะฑะพัั ั Finam TradeAPI ั ะฟะพะดะดะตัะถะบะพะน 17 ะธะฝััััะผะตะฝัะพะฒ ัะตัะตะท REST API

[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.118+-green.svg)](https://fastapi.tiangolo.com/)
[![Streamlit](https://img.shields.io/badge/Streamlit-1.40+-red.svg)](https://streamlit.io/)
[![Docker](https://img.shields.io/badge/docker-ready-blue.svg)](https://www.docker.com/)

## ๐ ะะพะทะผะพะถะฝะพััะธ

### 17 MCP ะะฝััััะผะตะฝัะพะฒ ะดะปั ัะฐะฑะพัั ั ะฑะธัะถะตะน

#### ๐ ะัะฝะพัะฝัะต ะดะฐะฝะฝัะต (4)
- **ะะพัะธัะพะฒะบะธ** โ ัะตะบััะธะต ัะตะฝั ะธ ะพะฑัะตะผั
- **ะะธัะถะตะฒะพะน ััะฐะบะฐะฝ** โ ะทะฐัะฒะบะธ ะฝะฐ ะฟะพะบัะฟะบั/ะฟัะพะดะฐะถั
- **ะััะพัะธัะตัะบะธะต ัะฒะตัะธ** โ OHLCV ะดะฐะฝะฝัะต
- **ะะพัะปะตะดะฝะธะต ัะดะตะปะบะธ** โ ะปะตะฝัะฐ ัะดะตะปะพะบ

#### ๐ผ ะฃะฟัะฐะฒะปะตะฝะธะต ััััะพะผ (4)
- **ะะฝัะพัะผะฐัะธั ะพ ััััะต** โ ะฑะฐะปะฐะฝั, ะบะฐะฟะธัะฐะป, ะฟะพะทะธัะธะธ
- **ะขัะฐะฝะทะฐะบัะธะธ** โ ะฒะฒะพะด/ะฒัะฒะพะด ััะตะดััะฒ, ะบะพะผะธััะธะธ
- **ะััะพัะธั ัะดะตะปะพะบ** โ ะธัะฟะพะปะฝะตะฝะฝัะต ะพัะดะตัะฐ
- **ะัะบััััะต ะฟะพะทะธัะธะธ** โ ัะตะบััะธะน ะฟะพัััะตะปั

#### ๐ ะขะพัะณะพะฒัะต ะพะฟะตัะฐัะธะธ (4)
- **ะกะฟะธัะพะบ ะพัะดะตัะพะฒ** โ ะฐะบัะธะฒะฝัะต ะธ ะธััะพัะธัะตัะบะธะต
- **ะะตัะฐะปะธ ะพัะดะตัะฐ** โ ะฟะพะปะฝะฐั ะธะฝัะพัะผะฐัะธั
- **ะกะพะทะดะฐะฝะธะต ะพัะดะตัะฐ** โ ะฟะพะบัะฟะบะฐ/ะฟัะพะดะฐะถะฐ
- **ะัะผะตะฝะฐ ะพัะดะตัะฐ** โ ะพัะผะตะฝะฐ ะทะฐัะฒะบะธ

#### ๐ ะะฝัะพัะผะฐัะธั ะพะฑ ะธะฝััััะผะตะฝัะฐั (3)
- **ะะตัะฐะปะธ ะธะฝััััะผะตะฝัะฐ** โ ัะธะบะตั, ะปะพั, ะฒะฐะปััะฐ
- **ะะฐัะฐะผะตััั ัะพัะณะพะฒะปะธ** โ ะผะฐัะถะฐ, ัะธัะบะธ
- **ะะฟัะธะพะฝะฝัะน ััะด** โ ะพะฟัะธะพะฝั ะฝะฐ ะฐะบัะธะฒ

#### ๐ ะะฒัะพัะธะทะฐัะธั (2)
- **ะะพะปััะตะฝะธะต ัะพะบะตะฝะฐ** โ JWT ะฐะฒัะพัะธะทะฐัะธั
- **ะะตัะฐะปะธ ัะตััะธะธ** โ ะธะฝัะพัะผะฐัะธั ะพ ัะตััะธะธ

## ๐๏ธ ะััะธัะตะบัััะฐ

ะะธะบัะพัะตัะฒะธัะฝะฐั ะฐััะธัะตะบัััะฐ ั ะดะฒัะผั ะบะพะฝัะตะนะฝะตัะฐะผะธ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         Docker Network                    โ
โ                                           โ
โ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโ โ
โ  โ  Web UI         โ  โ  MCP REST API  โ โ
โ  โ  (Streamlit)    โโโโค  (FastAPI)     โ โ
โ  โ  Port: 8501     โ  โ  Port: 8000    โ โ
โ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโ โ
โ         โ                      โ          โ
โโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโ
          โ                      โ
          โผ                      โผ
   OpenRouter API          Finam TradeAPI
```

**ะะพะผะฟะพะฝะตะฝัั:**
- **MCP REST API** โ FastAPI ัะตัะฒะตั ั 17 ะธะฝััััะผะตะฝัะฐะผะธ
- **Web UI** โ Streamlit ะธะฝัะตััะตะนั ั LLM ะธะฝัะตะณัะฐัะธะตะน
- **HTTP Client** โ ัะธะฝััะพะฝะฝัะน ะบะปะธะตะฝั ะดะปั MCP API

## ๐ ะัััััะน ััะฐัั

### ะงะตัะตะท Docker Compose (ัะตะบะพะผะตะฝะดัะตััั)

```bash
# 1. ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน
git clone <repository-url>
cd finam-x-hse-trade-ai-hack-trader

# 2. ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
cp .env.example .env
nano .env  # ะะพะฑะฐะฒััะต OPENROUTER_API_KEY ะธ FINAM_ACCESS_TOKEN

# 3. ะะฐะฟัััะธัะต
docker-compose up -d

# 4. ะัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต
# http://localhost:8501
```

**ะะพัะพะฒะพ!** ๐

### ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ

#### ะขะตัะผะธะฝะฐะป 1: MCP REST API
```bash
export PYTHONPATH=$(pwd)/src
python -m uvicorn app.mcp_rest_api:app --reload
```

#### ะขะตัะผะธะฝะฐะป 2: Streamlit UI
```bash
export MCP_API_URL=http://localhost:8000
streamlit run src/app/interfaces/chat_app_http.py
```

## ๐ ะขัะตะฑะพะฒะฐะฝะธั

- Python 3.11+
- Docker ะธ Docker Compose (ะดะปั ะบะพะฝัะตะนะฝะตัะธะทะฐัะธะธ)
- OpenRouter API Key (ะดะปั LLM)
- Finam Access Token (ะดะปั ัะพัะณะพะฒะปะธ)

## ๐ง ะะพะฝัะธะณััะฐัะธั

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั (.env)

```env
# OpenRouter API (ะพะฑัะทะฐัะตะปัะฝะพ)
OPENROUTER_API_KEY=sk-or-v1-your-key-here
OPENROUTER_MODEL=openai/gpt-4o-mini

# Finam TradeAPI (ะพะฑัะทะฐัะตะปัะฝะพ)
FINAM_ACCESS_TOKEN=your-token-here
FINAM_API_BASE_URL=https://api.finam.ru

# MCP API (ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฒ Docker)
MCP_API_URL=http://mcp-api:8000

# ะัะปะฐะดะบะฐ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
APP_DEBUG=false
```

### ะะพะดะดะตัะถะธะฒะฐะตะผัะต LLM ะผะพะดะตะปะธ

ะงะตัะตะท OpenRouter ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั:
- `anthropic/claude-3.5-sonnet` โ ะปัััะตะต ะบะฐัะตััะฒะพ
- `openai/gpt-4o-mini` โ ะฑัะดะถะตัะฝัะน ะฒะฐัะธะฐะฝั
- `openai/gpt-4-turbo` โ ะฑะฐะปะฐะฝั ัะตะฝั ะธ ะบะฐัะตััะฒะฐ
- `google/gemini-pro-1.5` โ ะฐะปััะตัะฝะฐัะธะฒะฐ

## ๐ก ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะัะพัััะต ะทะฐะฟัะพัั

```
๐ค ะะฐะบะฐั ัะตะนัะฐั ัะตะฝะฐ ะกะฑะตัะฑะฐะฝะบะฐ?
๐ค [ะฒัะทัะฒะฐะตั get_quote("SBER@MISX")]
   ๐ ะกะฑะตัะฑะฐะฝะบ: 285.50 โฝ (+1.2%)

๐ค ะะพะบะฐะถะธ ะผะพะน ะฟะพัััะตะปั
๐ค [ะฒัะทัะฒะฐะตั get_account + get_positions]
   ๐ผ ะะฐะปะฐะฝั: 100,000 โฝ
   ๐ ะัะบััััะต ะฟะพะทะธัะธะธ: 3

๐ค ะะพัะปะตะดะฝะธะต ัะดะตะปะบะธ ะฟะพ ะะฐะทะฟัะพะผั
๐ค [ะฒัะทัะฒะฐะตั get_latest_trades("GAZP@MISX")]
   ๐ ะะพัะปะตะดะฝะธะต 10 ัะดะตะปะพะบ ะฟะพ ะะฐะทะฟัะพะผั
```

### ะกะปะพะถะฝัะต ะทะฐะฟัะพัั

```
๐ค ะัะพะฐะฝะฐะปะธะทะธััะน ะฐะบัะธั YNDX@MISX
๐ค [ะฒัะทัะฒะฐะตั get_asset + get_quote + get_latest_trades]
   ๐ ะะพะปะฝัะน ะฐะฝะฐะปะธะท ะฏะฝะดะตะบัะฐ ั ัะตะบััะธะผะธ ะดะฐะฝะฝัะผะธ

๐ค ะะฐะบะธะต ะตััั ะพะฟัะธะพะฝั ะฝะฐ ะกะฑะตัะฑะฐะฝะบ?
๐ค [ะฒัะทัะฒะฐะตั get_options_chain("SBER@MISX")]
   ๐ ะกะฟะธัะพะบ ะพะฟัะธะพะฝะพะฒ ั ัััะฐะนะบะฐะผะธ ะธ ะดะฐัะฐะผะธ
```

## ๐ ะะพะบัะผะตะฝัะฐัะธั

- **[QUICKSTART_HTTP.md](QUICKSTART_HTTP.md)** โ ะัััััะน ััะฐัั ะทะฐ 5 ะผะธะฝัั
- **[ARCHITECTURE_HTTP.md](ARCHITECTURE_HTTP.md)** โ ะะพะดัะพะฑะฝะฐั ะฐััะธัะตะบัััะฐ
- **[DEPLOYMENT.md](DEPLOYMENT.md)** โ ะะฐะทะฒะตัััะฒะฐะฝะธะต ะฒ production
- **[BUILD_INSTRUCTIONS.md](BUILD_INSTRUCTIONS.md)** โ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ ัะพ ัะฑะพัะบะพะน
- **[FIX_NOTES.md](FIX_NOTES.md)** โ ะััะพัะธั ะธัะฟัะฐะฒะปะตะฝะธะน

## ๐ API ะะพะบัะผะตะฝัะฐัะธั

ะะพัะปะต ะทะฐะฟััะบะฐ MCP API ะดะพัััะฟะฝะฐ ะธะฝัะตัะฐะบัะธะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั:

- **Swagger UI:** http://localhost:8000/docs
- **ReDoc:** http://localhost:8000/redoc
- **OpenAPI Schema:** http://localhost:8000/openapi.json

### ะัะฝะพะฒะฝัะต ัะฝะดะฟะพะธะฝัั

| ะะตัะพะด | ะััั | ะะฟะธัะฐะฝะธะต |
|-------|------|----------|
| GET | `/health` | ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั ัะตัะฒะธัะฐ |
| GET | `/tools` | ะกะฟะธัะพะบ ะฒัะตั ะธะฝััััะผะตะฝัะพะฒ |
| POST | `/call_tool` | ะัะทะพะฒ ะธะฝััััะผะตะฝัะฐ |

## ๐ณ Docker

### ะกัััะบัััะฐ

```
docker-compose.yml
โโโ mcp-api (Dockerfile.mcp)
โ   โโโ FastAPI ัะตัะฒะตั ั ะธะฝััััะผะตะฝัะฐะผะธ
โโโ web (Dockerfile)
    โโโ Streamlit UI ั LLM
```

### ะะพะผะฐะฝะดั

```bash
# ะะฐะฟััะบ
docker-compose up -d

# ะะพะณะธ
docker-compose logs -f

# ะััะฐะฝะพะฒะบะฐ
docker-compose down

# ะะตัะตัะฑะพัะบะฐ
docker-compose build --no-cache
```

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะัะพะฒะตัะบะฐ MCP API

```bash
# Health check
curl http://localhost:8000/health

# ะกะฟะธัะพะบ ะธะฝััััะผะตะฝัะพะฒ
curl http://localhost:8000/tools | jq

# ะัะทะพะฒ ะธะฝััััะผะตะฝัะฐ
curl -X POST http://localhost:8000/call_tool \
  -H "Content-Type: application/json" \
  -d '{
    "tool_name": "get_quote",
    "arguments": {"symbol": "SBER@MISX"}
  }' | jq
```

### ะัะพะฒะตัะบะฐ Web UI

1. ะัะบัะพะนัะต http://localhost:8501
2. ะะพะปะถะฝะพ ะฟะพัะฒะธัััั: "โ ะะฐะณััะถะตะฝะพ 17 MCP ะธะฝััััะผะตะฝัะพะฒ"
3. ะะฐะดะฐะนัะต ะฒะพะฟัะพั: "ะะฐะบะฐั ัะตะฝะฐ ะกะฑะตัะฑะฐะฝะบะฐ?"

## โ๏ธ ะะตะทะพะฟะฐัะฝะพััั

**ะะฐะถะฝะพ:**
- ะขะพะบะตะฝั ะดะฐัั ะฟะพะปะฝัะน ะดะพัััะฟ ะบ ัะพัะณะพะฒะพะผั ััััั
- ะัะฟะพะปัะทัะนัะต ัะตััะพะฒัะต ััะตัะฐ ะดะปั ัะฐะทัะฐะฑะพัะบะธ
- ะะฐัััะพะนัะต ะปะธะผะธัั ั ะฑัะพะบะตัะฐ
- ะะต ะบะพะผะผะธัััะต `.env` ะฒ Git
- ะ production ะธัะฟะพะปัะทัะนัะต Docker secrets

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

ะญัะพั ะฟัะพะตะบั ัะพะทะดะฐะฝ ะดะปั ัะฐะบะฐัะพะฝะฐ Finam x HSE Trade AI Hack.

## ๐ ะะธัะตะฝะทะธั

ะกะผ. LICENSE ัะฐะนะป ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ.

## ๐ ะะพะปะตะทะฝัะต ัััะปะบะธ

- **Finam TradeAPI Docs:** https://tradeapi.finam.ru/
- **OpenRouter:** https://openrouter.ai/
- **FastAPI:** https://fastapi.tiangolo.com/
- **Streamlit:** https://streamlit.io/

## ๐ฌ ะะพะดะดะตัะถะบะฐ

ะัะปะธ ะฒะพะทะฝะธะบะปะธ ะฟัะพะฑะปะตะผั:
1. ะัะพะฒะตัััะต ะดะพะบัะผะตะฝัะฐัะธั ะฒ ะฟะฐะฟะบะต ะฟัะพะตะบัะฐ
2. ะัะพะฒะตัััะต ะปะพะณะธ: `docker-compose logs`
3. ะะพัะผะพััะธัะต [BUILD_INSTRUCTIONS.md](BUILD_INSTRUCTIONS.md)
4. ะัะพะฒะตัััะต [FIX_NOTES.md](FIX_NOTES.md)

---

**ะะตััะธั:** 2.1.0  
**ะะฐัะฐ:** 2025-10-04  
**ะกัะฐััั:** โ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

๐ **ะฃะดะฐัะฝัั ัะพัะณะพะฒ!**
